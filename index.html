<!doctype html>
<html lang="ja">
<header>
    <meta charset="UTF-8">
    <title>田算自動化</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Just+Me+Again+Down+Here&display=swap" rel="stylesheet">
</header>
<body>
    <form id="inputForm" onsubmit="return displayBoth(event)">
        <label for="inputNumber">数字を入力してください:</label>
        <input type="number" id="inputNumber">
        <button type="button" onclick="displayBoth()">表示</button>
        <input type="submit" style="display: none;">

    </form>
    <h1>田算自動化</h1>
    <dl></dl>
    <dl></dl>
    <div id="sukusyo">
        <P>
            <span id="dennzann"></span> 
            <span id="size"></span>
            <span id="kaisuu"></span>
        </P>
        <table id="multiplesTable" border="1" align="center">
            <thead>
                <tr></tr>
            </thead>
            <tbody>
                <!-- 結果がここに表示されます -->
            </tbody>
        </table>
        <dl></dl>
        <table id="multiplesTable2" border="1" align="center">
            <thead>
                <tr></tr>
            </thead>
            <tbody>
                <!-- 結果がここに表示されます -->
            </tbody>
        </table>
        <dl></dl>
    </div>

    <script>
        function displayBoth() {
            event.preventDefault();
            kaisuu();
            dennzannprint();
            fontsize();
            displayMultiples();
            displayMultiples2();
        }

        function dennzannprint() {
            var x = document.getElementById("dennzann");
            x.innerHTML = "田算 ";
        }

        function fontsize() {
            var inputNumber = document.getElementById("inputNumber").value;
            var x = document.getElementById("size");    
            x.innerHTML ="第"+inputNumber+"回";
        }

        function kaisuu() {
            var inputNumber = parseInt(document.getElementById("inputNumber").value);
            var x = document.getElementById("kaisuu");
            x.innerHTML = "("+(inputNumber*2-1+100)+"~"+(inputNumber*2+100)+")";
        }

        function displayMultiples() {
            var inputNumber = document.getElementById("inputNumber").value;
            var inputNumber2 = document.getElementById("inputNumber").value;
            var tbody = document.getElementById("multiplesTable").getElementsByTagName('tbody')[0];
            tbody.innerHTML = '';
            var a=1;
            for (var i = 1; i <= 9; i++) {
                var row = tbody.insertRow();
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                var cell4 = row.insertCell(3);
                var cell5 = row.insertCell(4);
                if(i==1){
                    cell1.innerText = "×" ;
                }
                else{
                    cell1.innerText = i ;
                }
                cell2.innerText = (inputNumber*2-1+100)*a ;
                cell2.className = 'right-align'
                if(i==1){
                    cell3.innerText = " " ;
                }
                else{
                    cell3.innerText = i ;
                }
                cell4.innerText = (inputNumber2*2-1+100)*362880/a;
                cell4.className = 'right-align'
                if(i==1){
                    cell5.innerText = "÷" ;
                }
                else{
                    cell5.innerText = i ;
                }
                
                a=a*(i+1);
  
            }
        }

        
        function displayMultiples2() {
        var inputNumber = parseInt(document.getElementById("inputNumber").value);
        var inputNumber2 = parseInt(document.getElementById("inputNumber").value);
        var tbody = document.getElementById("multiplesTable2").getElementsByTagName('tbody')[0];
        tbody.innerHTML = '';
        var a=1;
        for (var i = 1; i <= 9; i++) {
            var row = tbody.insertRow();
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            if(i==1){
                cell1.innerText = "×" ;
            }
            else{
                cell1.innerText = i ;
            }
            cell2.innerText = (inputNumber*2+100) * a ;
            cell2.className = 'right-align'
            if(i==1){
                cell3.innerText = " " ;
            }
            else{
                cell3.innerText = i ;
            }
            cell4.innerText = (inputNumber2*2+100) * 362880 / a;
            cell4.className = 'right-align'
            if(i==1){
                cell5.innerText = "÷" ;
            }
            else{
                cell5.innerText = i ;
            }

            a=a*(i+1);
            }
                
                
        }
    </script>
</body>
</html>

